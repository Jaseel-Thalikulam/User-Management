<%- include('../layouts/header.ejs') %>


<nav class="navbar navbar-expand-lg navbar-light    sticky-top bg-white " id="navbar">
  <a class="navbar-brand fw-bold" href="#">MarketPlaceX</a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Edit-User<span class="sr-only">(current)</span></a>
        
      </li>
      <li class="nav-item">

        <a class="nav-link"  href="/admin/dashboard">Dashboard</a>
      </li>
    </ul>
    
    
  
  </div>
</nav>



<section class="vh-100" style="background-color: white">
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-12 col-xl-11">
        <div class="card text-black" style="border-radius: 25px;">
          <div class="card-body p-md-5">
            <div class="row justify-content-center">
              <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">

                <h2 class="text-center fw-bold " style="color: black;">MarketPlaceX</h2>
                <p class="text-center h3 fw-bold mb-5 mx-1 mx-md-4 mt-4">User detail-Update</p>

                <form class="mx-1 mx-md-4" action="" method="post"  onsubmit="return validateForm()">

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <input type="text"  name="name" id="form3Example1c" value="<%= user.name %>" class="form-control" />
                      <label class="form-label" for="form3Example1c"> User Name</label>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <input type="email" name="email" value="<%= user.email %>" id="form3Example3c" class="form-control" />
                      <label class="form-label" for="form3Example3c">User Email</label>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <input type="text" maxlength="10" minlength="10" onkeypress="return onlyNumberKey(event)" name="mobile"  value="<%= user.mobile %>" id="form3Example4c" class="form-control" />
                      <label class="form-label" for="form3Example4c"> User Contact Number</label>
                    </div>
                  </div>
                  <input type="hidden" name="id" value="<%= user._id %>">
                  
                 
                   <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                    <button type="submit" class="btn btn-primary btn-lg" onsubmit="return validateForm()">Update</button>
                    <p style="color: green;"></p>
    
                    
            
                
                  </div> 
                  <%
                     if(typeof message!=='undefined'){
                        %>
                        <p style="color: #08aa08;">Successfully Updated</p>
                        <%
                
                     }
                    
                    %>
                </form>

              </div>
              <div class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2">

                <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp"
                  class="img-fluid" alt="Sample image">

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
    function validateForm() {
      let inputs = document.getElementsByTagName("input")

      for(let i=0; i< inputs.length; i++){
        if(inputs[i].value == ""){
          alert("All fields are required!!")
          return false;
        }
      }
      return true;
    }



 function onlyNumberKey(evt) {
              
              // Only ASCII character in that range allowed
              var ASCIICode = (evt.which) ? evt.which : evt.keyCode
              if (ASCIICode < 48 || ASCIICode > 57){
                  return false;}
              return true;
          }

  </script>


<%- include('../layouts/footer.ejs') %>